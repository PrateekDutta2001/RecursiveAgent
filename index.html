<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RLM + Agentic RAG System Architecture</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="detail-link-banner">
  <a href="https://drive.google.com/file/d/1E0ofjA3Z_sdSujdBs520ji5_ue5kcczS/view?usp=sharing" target="_blank" rel="noopener noreferrer">
    ğŸ“„ View Detail Document
  </a>
</div>
<div class="wrapper">

  <!-- Header -->
  <div class="header">
    <div class="header-badge">System Architecture</div>
    <h1>RLM + Agentic RAG System</h1>
    <p>Reinforcement Learning Model Â· Retrieval-Augmented Generation Â· Multi-Agent Orchestration</p>
  </div>

  <div class="arch">

    <!-- Layer 1: User Interface / Input Layer -->
    <div class="layer">
      <div class="layer-label">01 Â· Input &amp; Interface Layer</div>
      <div class="layer-row">
        <div class="node cyan">
          <span class="node-icon">ğŸ’¬</span>
          <div class="node-title">User Interface</div>
          <div class="node-desc">Chat / API / Voice / SDK endpoints accepting natural language queries and task specifications</div>
          <div class="node-tags">
            <span class="tag tag-cyan">REST API</span>
            <span class="tag tag-cyan">WebSocket</span>
            <span class="tag tag-cyan">SDK</span>
          </div>
        </div>
        <div class="node blue">
          <span class="node-icon">ğŸ“‹</span>
          <div class="node-title">Query Preprocessor</div>
          <div class="node-desc">Intent classification, query decomposition, entity extraction and context injection</div>
          <div class="node-tags">
            <span class="tag tag-blue">NER</span>
            <span class="tag tag-blue">Intent</span>
            <span class="tag tag-blue">Decompose</span>
          </div>
        </div>
        <div class="node purple">
          <span class="node-icon">ğŸ—‚ï¸</span>
          <div class="node-title">Session & Context Manager</div>
          <div class="node-desc">Maintains conversation history, episodic memory, session state and user preference profiles</div>
          <div class="node-tags">
            <span class="tag tag-purple">History</span>
            <span class="tag tag-purple">Episodic</span>
            <span class="tag tag-purple">Profile</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Connector -->
    <div class="connector">
      <div class="connector-line"></div>
      <div class="connector-label">â¬‡ Structured Query + Context â¬‡</div>
    </div>

    <!-- Layer 2: Agentic Orchestration Core -->
    <div class="layer">
      <div class="layer-label">02 Â· Agentic Orchestration Core</div>
      <div class="layer-row">
        <div class="node purple orchestrator">
          <div class="pulse-ring"></div>
          <span class="node-icon">ğŸ§ </span>
          <div class="node-title">Agent Orchestrator (LLM Core)</div>
          <div class="node-desc">Central reasoning engine powering multi-step planning, tool selection, sub-agent delegation and dynamic workflow generation. Maintains the agent loop: Observe â†’ Think â†’ Act â†’ Reflect.</div>
          <div class="node-tags">
            <span class="tag tag-purple">ReAct Loop</span>
            <span class="tag tag-purple">Tool Use</span>
            <span class="tag tag-blue">Chain-of-Thought</span>
            <span class="tag tag-cyan">Streaming</span>
          </div>
        </div>
        <div class="node blue">
          <span class="node-icon">ğŸ“</span>
          <div class="node-title">Task Planner</div>
          <div class="node-desc">Decomposes complex tasks into DAG of sub-tasks, assigns to specialized agents, manages dependencies and parallel execution</div>
          <div class="node-tags">
            <span class="tag tag-blue">DAG</span>
            <span class="tag tag-blue">Scheduler</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Connector -->
    <div class="connector">
      <div class="connector-line"></div>
      <div class="connector-label">â¬‡ Sub-task Dispatch â¬‡</div>
    </div>

    <!-- Layer 3: Specialized Agents -->
    <div class="layer">
      <div class="layer-label">03 Â· Specialized Agent Pool</div>
      <div class="layer-row">
        <div class="node cyan">
          <span class="node-icon">ğŸ”</span>
          <div class="node-title">Retrieval Agent</div>
          <div class="node-desc">Executes semantic search, hybrid retrieval, HyDE query expansion and re-ranking across knowledge stores</div>
          <div class="node-tags">
            <span class="tag tag-cyan">HyDE</span>
            <span class="tag tag-cyan">Re-rank</span>
          </div>
        </div>
        <div class="node green">
          <span class="node-icon">âš™ï¸</span>
          <div class="node-title">Tool-Use Agent</div>
          <div class="node-desc">Executes external tools: web search, code interpreter, calculators, APIs, databases and file systems</div>
          <div class="node-tags">
            <span class="tag tag-green">Code Exec</span>
            <span class="tag tag-green">Web</span>
          </div>
        </div>
        <div class="node amber">
          <span class="node-icon">âœ…</span>
          <div class="node-title">Critic / Verifier Agent</div>
          <div class="node-desc">Validates facts, checks logical consistency, detects hallucinations and scores output quality for RL feedback</div>
          <div class="node-tags">
            <span class="tag tag-amber">Factcheck</span>
            <span class="tag tag-amber">Scores</span>
          </div>
        </div>
        <div class="node blue">
          <span class="node-icon">âœï¸</span>
          <div class="node-title">Synthesis Agent</div>
          <div class="node-desc">Combines retrieved context with reasoning trace to generate coherent, grounded, cited responses</div>
          <div class="node-tags">
            <span class="tag tag-blue">Grounded</span>
            <span class="tag tag-blue">Citations</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Connector -->
    <div class="connector">
      <div class="connector-line"></div>
      <div class="connector-label">â¬‡ Retrieval Queries â¬‡</div>
    </div>

    <!-- Layer 4: RAG Pipeline -->
    <div class="layer">
      <div class="layer-label">04 Â· Retrieval-Augmented Generation Pipeline</div>
      <div class="layer-row">
        <div class="node blue">
          <span class="node-icon">ğŸ”¢</span>
          <div class="node-title">Embedding Engine</div>
          <div class="node-desc">Multi-modal embedding generation (text, code, image) via dense + sparse encoders. Supports bi-encoder & cross-encoder</div>
          <div class="node-tags">
            <span class="tag tag-blue">Dense</span>
            <span class="tag tag-blue">Sparse BM25</span>
            <span class="tag tag-blue">Multi-modal</span>
          </div>
        </div>
        <div class="node cyan">
          <span class="node-icon">ğŸ—ƒï¸</span>
          <div class="node-title">Vector Store</div>
          <div class="node-desc">ANN index (HNSW/IVF) over document embeddings. Supports metadata filtering, namespace routing and CRUD operations</div>
          <div class="node-tags">
            <span class="tag tag-cyan">HNSW</span>
            <span class="tag tag-cyan">Pinecone</span>
            <span class="tag tag-cyan">Weaviate</span>
          </div>
        </div>
        <div class="node green">
          <span class="node-icon">ğŸ“Š</span>
          <div class="node-title">Re-Ranker</div>
          <div class="node-desc">Cross-encoder re-ranking of top-K candidates using relevance scores, MMR for diversity and query-document alignment</div>
          <div class="node-tags">
            <span class="tag tag-green">Cross-Enc</span>
            <span class="tag tag-green">MMR</span>
          </div>
        </div>
        <div class="node purple">
          <span class="node-icon">ğŸ“</span>
          <div class="node-title">Context Assembler</div>
          <div class="node-desc">Packs retrieved chunks into LLM context window with deduplication, truncation strategy and source attribution</div>
          <div class="node-tags">
            <span class="tag tag-purple">Dedupe</span>
            <span class="tag tag-purple">Attribution</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Connector -->
    <div class="connector">
      <div class="connector-line"></div>
      <div class="connector-label">â¬‡ Retrieved Context â¬‡ Â· â¬† RL Feedback Signal â¬†</div>
    </div>

    <!-- Layer 5: RL Model Training & Inference -->
    <div class="layer">
      <div class="layer-label">05 Â· Reinforcement Learning Model (RLM) Layer</div>
      <div class="rl-loop">
        <div class="rl-loop-title">RL TRAINING & INFERENCE LOOP</div>
        <div class="layer-row" style="margin-bottom:12px;">
          <div class="node amber">
            <span class="node-icon">ğŸ†</span>
            <div class="node-title">Reward Model</div>
            <div class="node-desc">Trained RLHF/RLAIF reward model scoring responses on helpfulness, accuracy, safety and format compliance</div>
            <div class="node-tags">
              <span class="tag tag-amber">RLHF</span>
              <span class="tag tag-amber">RLAIF</span>
              <span class="tag tag-amber">PPO</span>
            </div>
          </div>
          <div class="node purple">
            <span class="node-icon">ğŸ¯</span>
            <div class="node-title">Policy Model (Actor)</div>
            <div class="node-desc">Fine-tuned LLM policy optimized via PPO/GRPO. Generates actions (retrieve / reason / respond) based on state observations</div>
            <div class="node-tags">
              <span class="tag tag-purple">GRPO</span>
              <span class="tag tag-purple">LoRA</span>
              <span class="tag tag-purple">Actor</span>
            </div>
          </div>
          <div class="node blue">
            <span class="node-icon">ğŸ“ˆ</span>
            <div class="node-title">Value Function (Critic)</div>
            <div class="node-desc">Estimates expected cumulative reward from current state. Provides advantage estimates to stabilize policy gradient training</div>
            <div class="node-tags">
              <span class="tag tag-blue">GAE</span>
              <span class="tag tag-blue">Baseline</span>
            </div>
          </div>
          <div class="node green">
            <span class="node-icon">ğŸ”„</span>
            <div class="node-title">Experience Replay</div>
            <div class="node-desc">Stores (state, action, reward, next_state) tuples in priority replay buffer for off-policy training and batch updates</div>
            <div class="node-tags">
              <span class="tag tag-green">PER</span>
              <span class="tag tag-green">Buffer</span>
            </div>
          </div>
        </div>
        <div class="flow-arrows">
          <div class="flow-box">State (query+context)</div>
          <span class="arrow">â†’</span>
          <div class="flow-box">Policy â†’ Action</div>
          <span class="arrow">â†’</span>
          <div class="flow-box">Environment</div>
          <span class="arrow">â†’</span>
          <div class="flow-box">Reward Signal</div>
          <span class="arrow">â†’</span>
          <div class="flow-box">Gradient Update</div>
        </div>
      </div>
    </div>

    <!-- Connector -->
    <div class="connector">
      <div class="connector-line"></div>
      <div class="connector-label">â¬‡ Knowledge Indices â¬‡</div>
    </div>

    <!-- Layer 6: Knowledge & Data Layer -->
    <div class="layer">
      <div class="layer-label">06 Â· Knowledge &amp; Data Layer</div>
      <div class="layer-row">
        <div class="node green">
          <span class="node-icon">ğŸ“š</span>
          <div class="node-title">Document Corpus</div>
          <div class="node-desc">Raw documents, PDFs, web pages, code repos. Chunking pipeline with sliding windows, semantic splitting and metadata tagging</div>
          <div class="node-tags">
            <span class="tag tag-green">Chunking</span>
            <span class="tag tag-green">Markdown</span>
          </div>
        </div>
        <div class="node cyan">
          <span class="node-icon">ğŸŒ</span>
          <div class="node-title">Graph Knowledge Base</div>
          <div class="node-desc">Entity-relation graph for multi-hop reasoning. Neo4j / GraphRAG enabling structured traversal alongside vector search</div>
          <div class="node-tags">
            <span class="tag tag-cyan">Neo4j</span>
            <span class="tag tag-cyan">Multi-hop</span>
          </div>
        </div>
        <div class="node blue">
          <span class="node-icon">âš¡</span>
          <div class="node-title">Cache & Short-term Memory</div>
          <div class="node-desc">Semantic cache (Redis) for frequent queries, working memory for current agent trajectory and intermediate reasoning steps</div>
          <div class="node-tags">
            <span class="tag tag-blue">Redis</span>
            <span class="tag tag-blue">Working Mem</span>
          </div>
        </div>
        <div class="node purple">
          <span class="node-icon">ğŸ§¬</span>
          <div class="node-title">Long-term Memory Store</div>
          <div class="node-desc">Persistent episodic + semantic memory. Enables RL agents to recall past episodes, user preferences and successful strategies</div>
          <div class="node-tags">
            <span class="tag tag-purple">Episodic</span>
            <span class="tag tag-purple">Semantic</span>
          </div>
        </div>
        <div class="node amber">
          <span class="node-icon">ğŸŒ</span>
          <div class="node-title">External Data Sources</div>
          <div class="node-desc">Live APIs, web search, SQL/NoSQL databases, real-time data feeds and file system connectors</div>
          <div class="node-tags">
            <span class="tag tag-amber">APIs</span>
            <span class="tag tag-amber">SQL</span>
            <span class="tag tag-amber">Live</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Connector -->
    <div class="connector">
      <div class="connector-line"></div>
      <div class="connector-label">â¬‡ Final Response â¬‡</div>
    </div>

    <!-- Layer 7: Output & Observability -->
    <div class="layer">
      <div class="layer-label">07 Â· Output, Safety &amp; Observability</div>
      <div class="layer-row">
        <div class="node red">
          <span class="node-icon">ğŸ›¡ï¸</span>
          <div class="node-title">Safety & Guardrails</div>
          <div class="node-desc">Input/output filtering, toxicity detection, PII redaction, policy enforcement and jailbreak prevention</div>
          <div class="node-tags">
            <span class="tag tag-amber">PII</span>
            <span class="tag tag-amber">Toxicity</span>
          </div>
        </div>
        <div class="node green wide">
          <span class="node-icon">ğŸ“¤</span>
          <div class="node-title">Response Generator &amp; Formatter</div>
          <div class="node-desc">Final answer synthesis with citation rendering, format adaptation (markdown/JSON/HTML), streaming token output and confidence scoring</div>
          <div class="node-tags">
            <span class="tag tag-green">Citations</span>
            <span class="tag tag-green">Streaming</span>
            <span class="tag tag-green">Confidence</span>
            <span class="tag tag-cyan">Structured JSON</span>
          </div>
        </div>
        <div class="node blue">
          <span class="node-icon">ğŸ“Š</span>
          <div class="node-title">Observability &amp; Tracing</div>
          <div class="node-desc">Full trace logging (LangSmith/Phoenix), latency metrics, token usage, RL reward tracking, A/B eval dashboards</div>
          <div class="node-tags">
            <span class="tag tag-blue">LangSmith</span>
            <span class="tag tag-blue">OTEL</span>
          </div>
        </div>
        <div class="node amber">
          <span class="node-icon">ğŸ”ƒ</span>
          <div class="node-title">Feedback Loop</div>
          <div class="node-desc">Collects human feedback, thumbs up/down signals, implicit quality indicators â€” feeds back into RL reward model and RLHF dataset</div>
          <div class="node-tags">
            <span class="tag tag-amber">HITL</span>
            <span class="tag tag-amber">RLHF Data</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Legend -->
    <div class="legend">
      <div class="legend-title">Legend â€” Component Categories</div>
      <div class="legend-item"><div class="legend-dot" style="background:#3b82f6"></div>Core LLM / RAG Pipeline</div>
      <div class="legend-item"><div class="legend-dot" style="background:#8b5cf6"></div>Agent Orchestration / RL Policy</div>
      <div class="legend-item"><div class="legend-dot" style="background:#06b6d4"></div>Retrieval & Search</div>
      <div class="legend-item"><div class="legend-dot" style="background:#10b981"></div>Knowledge Storage / Output</div>
      <div class="legend-item"><div class="legend-dot" style="background:#f59e0b"></div>RL Training / Feedback</div>
      <div class="legend-item"><div class="legend-dot" style="background:#ef4444"></div>Safety & Guardrails</div>
    </div>

  </div>

  <!-- Footer -->
  <div class="footer">
    <div class="footer-text">Â© <span class="footer-year">2026</span> Â· Curated & Designed by <span class="footer-credit">Prateek Dutta</span></div>
    <div class="footer-text">RLM + Agentic RAG System Architecture</div>
  </div>
</div>
</body>
<script src="script.js"></script>
</html>

